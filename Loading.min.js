let Loading=function(){let t=new Drhuy.EventHandle(["onShow","onHide","onTo"]);Drhuy.onStartAjax=function(){t.to(0)},Drhuy.onAfterAjax=function(n){t.to(100*(n.nAction+1)/n.nTotal)};document.write('<style type="text/css">.loading{position: fixed;width: 100%;bottom: 0px;z-index: 9999;}.loading-Car{width: 40px;height: 22px;position: relative;z-index: 1;left: 0px;transition: left .5s;}.loading-Car-rolling{animation: car-rolling 0.3s;}.loading-Car-Body{width: 100%;height: auto;animation: car-body-rolling .3s infinite;}.loading-Car-Wheel{position: absolute;top: 14px;width: 10px;}.loading-Car-Wheel-Front{left: 27px;}.loading-Car-Wheel-Back{left: 4px;}.loading-Car-Wheel-rolling{animation: car-wheel-rolling .1s infinite;}.loading-Road{position: absolute;width: 100%;height: 40%;background-color: #e0e0e0;bottom: -14%;z-index: 0;border: 1px solid gray;border-left: 0px;border-right: 0px;transition: width .5s;}@keyframes car-rolling{0% {transform: rotate(0deg);}10% {transform: rotate(0deg);}40% {transform: rotate(30deg);}45% {transform: rotate(33deg);}50% {transform: rotate(36deg);}60% {transform: rotate(20deg);}100% {transform: rotate(0deg);}}@keyframes car-body-rolling{0% {height: 95%}100% {height: 100%}}@keyframes car-wheel-rolling{100% {transform: rotate(360deg)}}</style>');let n,e=0,o=Drhuy.fastCreateElement("class=loading-Car",[["img","src=car.png"],["img","src=wheel.png|class=loading-Car-Wheel loading-Car-Wheel-Front loading-Car-Wheel-rolling"],["img","src=wheel.png|class=loading-Car-Wheel loading-Car-Wheel-Back loading-Car-Wheel-rolling"]]),a=Drhuy.fastCreateElement("class=loading-Road bg-info"),r=Drhuy.fastCreateElement("class=loading",[o,["class=loading-Road"],a]),i=null;return t.to=async function(r=0){t.show(),o.style.left=`${r}%`,a.style.width=`${r}%`,100==r&&(o.style.left=`calc(${r}% - ${n}px)`);let l=10*Math.random()+10;r-e>l?o.classList.add("loading-Car-rolling"):o.classList.remove("loading-Car-rolling"),e=r,t.fire("onTo",r),i&&clearInterval(i),i=setInterval(function(){t.to(r+=.1)},100),r>=100&&(clearInterval(i),await setTimeout(t.hide,300))},t.show=function(){document.getElementsByTagName("body")[0].appendChild(r),n=o.clientWidth,t.fire("onShow",r)},t.hide=function(){r.remove(),t.fire("onHide",r)},t}();